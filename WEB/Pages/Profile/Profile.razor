@page "/profile"
@attribute [Authorize]
@using Blazored.LocalStorage;
@using Models.Entity;
@using WEB.Data.Services.Base;
@using WEB.Utility;


<PageTitle>Профиль</PageTitle>
<div class="container-fluid">
    <div class="row my-5">
        <div class="col-lg-6 col-xl-4 offset-lg-3 offset-xl-4">
            <RadzenCard class="m-3">
                <div class="d-flex flex-row p-3">
                    <div>
                        <RadzenText TextStyle="TextStyle.Overline" class="d-flex mt-1 mb-0">ФИО</RadzenText>
                        <RadzenText><b>@(user.Last_name + " " + user.First_name + " " + user.Otch)</b></RadzenText>
                        <RadzenText TextStyle="TextStyle.Overline" class="d-flex mt-3 mb-0">Дата рождения</RadzenText>
                        <RadzenText><b>@user.BirthDate.ToShortDateString()</b></RadzenText>
                        <RadzenText TextStyle="TextStyle.Overline" class="d-flex mt-3 mb-0">Номер телефона</RadzenText>
                        <RadzenText><b>@user.PhoneNumber</b></RadzenText>
                        <RadzenText TextStyle="TextStyle.Overline" class="d-flex mt-3 mb-0">Логин</RadzenText>
                        <RadzenText><b>@user.Account!.Login</b></RadzenText>
                        <RadzenText TextStyle="TextStyle.Overline" class="d-flex mt-3 mb-0">Электронная почта</RadzenText>
                        <RadzenText><b>@user.Account!.Email</b></RadzenText>
                    </div>
                </div>
                <RadzenCard class="my-3 rz-background-color-primary-lighter rz-shadow-0 rz-border-radius-0" style="margin: 0 calc(-1 * var(--rz-card-padding)); padding: 2rem;">
                    <RadzenText TextStyle="TextStyle.H6" class="rz-color-primary-light"><strong>Паспортные данные</strong></RadzenText>
                    <div class="row">
                        <div class="col-md-4">
                            <RadzenText TextStyle="TextStyle.Overline" class="rz-color-primary-light d-flex mt-3 mb-0">Серия</RadzenText>
                            <RadzenText><b>@user.PassportSeries</b></RadzenText>
                            <RadzenText TextStyle="TextStyle.Overline" class="rz-color-primary-light d-flex mt-3 mb-0">Номер</RadzenText>
                            <RadzenText><b>@user.PassportNumber</b></RadzenText>
                        </div>
                    </div>
                </RadzenCard>
                <div class="text-end">
                    <RadzenButton Variant="Variant.Text" ButtonStyle="ButtonStyle.Dark" Text="Просмотр доступа" Click="@GetTokens" />
                    <RadzenButton ButtonStyle="ButtonStyle.Primary" Text="Изменить" Click="@ProfileChange" />
                </div>
            </RadzenCard>

        </div>
    </div>
</div>


